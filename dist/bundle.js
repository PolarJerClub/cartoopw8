(()=>{"use strict";const t={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let e;const n=new Uint8Array(16);function r(){if(!e&&(e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!e))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return e(n)}const o=[];for(let t=0;t<256;++t)o.push((t+256).toString(16).slice(1));const i=function(e,n,i){if(t.randomUUID&&!n&&!e)return t.randomUUID();const a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,n){i=i||0;for(let t=0;t<16;++t)n[i+t]=a[t];return n}return function(t,e=0){return(o[t[e+0]]+o[t[e+1]]+o[t[e+2]]+o[t[e+3]]+"-"+o[t[e+4]]+o[t[e+5]]+"-"+o[t[e+6]]+o[t[e+7]]+"-"+o[t[e+8]]+o[t[e+9]]+"-"+o[t[e+10]]+o[t[e+11]]+o[t[e+12]]+o[t[e+13]]+o[t[e+14]]+o[t[e+15]]).toLowerCase()}(a)},a=class{constructor(t,e,n){this.id=i(),this.name=t,this._price=e,this.description=n}getId(){return this.id}getName(){return this.name}get getPrice(){return this._price}set price(t){this._price=t}getDescription(){return this.description}},s=class{constructor(){this.items=[new a("Hacky Sack",10,"A fun sack that conveniently may be hackied"),new a("Walking Stick",20,"Gandalf would be jealous"),new a("Skateboard",30,"A wicked skidder"),new a("Basketball",30,"A basketball"),new a("Pogo Stick",30,"Bouncey bouncey"),new a("Hat",30,"A hat"),new a("Megadeath Shirt",30,"You know"),new a("Mystery Box",30,"Who knows"),new a("Wand",30,"Expecto Patronum"),new a("Map to Atlantis",30,"Icelandic diary")]}getItems(){return this.items}setItems(){return this.items}showItems(){const t=document.getElementById("shop");t&&this.items.forEach((e=>{var n;const r=document.createElement("div");r.innerHTML=`\n        <p>Name: ${e.getName()}</p>\n        <p>Price: ${e.price}</p>\n        <p>Description: ${e.getDescription()}</p>\n        <button data-item-id="${e.getId()}">Add to Cart</button>\n      `,null===(n=r.querySelector("button"))||void 0===n||n.addEventListener("click",(()=>{d.myUser&&(d.myUser.addToCart(e),this.updateCart())})),t.appendChild(r)}))}updateCart(){const t=document.getElementById("cart");t&&d.myUser&&(t.innerHTML="",t.appendChild(d.myUser.cartHTMLElement()),t.querySelectorAll("button").forEach((t=>{t.addEventListener("click",(e=>{const n=t.getAttribute("data-item-id"),r=t.getAttribute("data-action");if(n&&r){const t=this.items.find((t=>t.getId()===n));t&&("remove-one"===r?d.myUser&&(d.myUser.removeQuantityFromCart(t,1),this.updateCart()):"remove-all"===r&&d.myUser&&(d.myUser.removeFromCart(t),this.updateCart()))}}))})))}};class c{constructor(t,e){this.id=i(),this.name=t,this.age=e,this.cart=[]}getId(){return this.id}getName(){return this.name}getAge(){return this.age}getCart(){return this.cart}addToCart(t){this.cart.push(t)}removeFromCart(t){this.cart=this.cart.filter((e=>e.getId()!==t.getId()))}removeQuantityFromCart(t,e){const n=this.cart.findIndex((e=>e.getId()===t.getId()));if(-1!==n){const t=this.cart[n];t.price-=e,t.price<=0&&this.cart.splice(n,1)}}cartTotal(){return this.cart.reduce(((t,e)=>t+e.getPrice),0)}static loginUser(t){t.preventDefault();const e=document.getElementById("name"),n=document.getElementById("age"),r=e.value.trim(),o=parseInt(n.value,10);if(r&&!isNaN(o)){c.myUser=new c(r,o);const t=new s;t.showItems(),t.updateCart()}else alert("Please enter a valid name and age.")}cartHTMLElement(){const t=document.createElement("div");return 0===this.cart.length?t.textContent="The cart is empty.":this.cart.forEach((e=>{const n=document.createElement("div");n.innerHTML=`\n          <p>Name: ${e.getName()}</p>\n          <p>Price: ${e.getPrice}</p>\n          <p>Description: ${e.getDescription()}</p>\n          <button data-item-id="${e.getId()}" data-action="remove-one">Remove One</button>\n          <button data-item-id="${e.getId()}" data-action="remove-all">Remove All</button>\n        `,t.appendChild(n)})),t}printCart(){console.log(`${this.name}'s Cart:`),this.cart.forEach(((t,e)=>{console.log(`Item ${e+1}:`),console.log(`  Name: ${t.getName()}`),console.log(`  Price: ${t.getPrice}`),console.log(`  Description: ${t.getDescription()}`)}))}}const d=c,m=document.getElementById("loginButton");null==m||m.addEventListener("click",d.loginUser),window.onload=()=>{if(d.myUser){const t=new s;t.showItems(),t.updateCart()}}})();